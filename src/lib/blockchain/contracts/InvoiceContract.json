{
  "contractName": "InvoiceContract",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "InvoiceCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "InvoiceCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "InvoicePaid",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "name": "cancelInvoice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "dueDate",
          "type": "uint256"
        }
      ],
      "name": "createInvoice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "name": "payInvoice",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610aa1806100206000396000f3fe6080604052600436106100705760003560e01c8063893215c41161004e578063893215c414610122578063a7303d3d1461014c578063c7a91d031461018c578063dd2a3ec0146101bf57610070565b80630dce3ae11461007557806316f4d0f2146100a957806340bcc95c146100f1575b600080fd5b34801561008157600080fd5b5061009061008c366004610731565b6101f4565b6040516100a0949392919061076a565b60405180910390f35b3480156100b557600080fd5b506100d96100c4366004610807565b60036020526000908152604090205460ff1681565b60405190151581526020016100a0565b3480156100fd57600080fd5b5061011161010c366004610731565b6102dd565b6040516100a0919061083c565b34801561012e57600080fd5b5061013760035481565b60405190815260200161012f565b34801561015857600080fd5b5061017a6101673660046108c5565b600160209081526000928352604080842090915290825290205481565b6040516100a091906108ed565b34801561019857600080fd5b506101ac6101a7366004610807565b61035d565b6040516100a0979695949392919061090e565b3480156101cb57600080fd5b506101f26101da366004610731565b60009081526001602052604090205490565b005b600160205260009081526040902080546001820154600283015460038401805492949193840191610226906109d1565b80601f0160208091040260200160405190810160405280929190818152602001828054610252906109d1565b801561029f5780601f106102745761010080835404028352916020019161029f565b820191906000526020600020905b81548152906001019060200180831161028257829003601f168201915b505050506004830154600584015460069094015492936001600160a01b039092169187565b6000818152600160205260408120805483908110610301576103016108aa565b6000918252602090912060039091020180546001600160a01b031916331790556103308261035d565b6006015460ff161561034357600080fd5b6000828152600260205260409020805460ff19166001179055919050565b600081815260016020908152604091829020825160e081018452815481526001820154928101929092526002810154928201839052600382018054606084018190526000949094168452600584015460ff808216608087015260069095015490941660a0860152600160c0860152600183015460ff161561041157826003015460018401546040516001600160a01b039092169181156108fc0291906000818181858888f19350505050158015610414573d6000803e3d6000fd5b50505b600084815260016020526040902080546001820154600283015460038401546005850154600690950154845195965091946001600160a01b039092169287918190036040019091546104e957604051806040016040528060048152602001636970667360e01b815250600085600001518660200151876040015160405160200161049f94939291906109ee565b60408051601f198184030181528282528051602091820120600086815290819052919091209051906104cf9061094d565b6104dd929190919061096c565b506104e489610a0c565b6104ee565b8161050b57604051806040016040528060048152602001636970667360e01b815250610532565b600082600381518110610520576105206108aa565b60200101906001600160f81b031916908160001a905350505b600085815260016020526040902060038101908051909190600090610556836109d1565b61056192919061096c565b505050600581018054911515600160a81b0260ff60a81b19909216919091179055600681018054911515600160b01b0260ff60b01b199092169190911790555050919050565b6001600160a01b03811660009081526020818152604080832080548251818502810185019093528083528483028201915491929083018282801561062657602002820191906000526020600020905b81548152602001906001019080831161061e575b5050505050905090565b80356001600160a01b038116811461064857600080fd5b92915050565b634e487b7160e01b600052604160045260246000fd5b600082601f83011261067557600080fd5b813567ffffffffffffffff8082111561069057610690610650565b604051601f8301601f19908116603f011681019082821181831017156106b8576106b8610650565b816040528381526020925086838588010111156106d457600080fd5b600091505b838210156106f657858201830151818301840152908201906106d9565b838111156107075760008385830101525b9695505050505050565b60006020828403121561072357600080fd5b813560028110801561073457600080fd5b9392505050565b60006020828403121561074357600080fd5b5035919050565b6000815180845260005b8181101561077057602081850181015186830182015201610754565b81811115610782576000602083870101525b50601f01601f19169290920160200192915050565b600081516107a781846020870161095a565b9290920192915050565b600082516107c281846020870161095a565b9190910192915050565b6001600160a01b03858116825284166020820152604081018390526080606082018190526000906107fd9083018461074a565b9695505050505050565b60006020828403121561081957600080fd5b610822826105ff565b9392505050565b600082825180855260208086019550808260051b840101818601855b8481101561083057835189529382019390820190600101610815565b509495945050505050565b60208152600061084f602083018461082a565b9392505050565b6000602080838503121561086957600080fd5b823567ffffffffffffffff8082111561088157600080fd5b818501915085601f83011261089557600080fd5b8135818111156108a4576108a4610650565b80604085840101111561086957600080fd5b634e487b7160e01b600052603260045260246000fd5b6000806000606084860312156108da57600080fd5b6108e3846105ff565b95602085013595506040909401359392505050565b6020808252825182820181905260009190848201906040850190845b8181101561084f57835183529284019291840191600101610905565b60016020815260006109226020830184610749565b815160a085015260208101516001600160a01b03811660c0860152602082015160e0860152604082015161010086015260608201516101208601526080820151151561014086015260a082015115156101608601526101808501526109856101a0850183610749565b6001600160a01b039081166101c087015250602083015183166101e0860152604083015182166102008601526060830151610220860152608083015115156102408601526000610a08565b60008154610a1a81610a35565b600182811680156109445760018114610a0857600080fd5b60208201516001600160a01b03871660c0850152602082015160e0850152604082015161010085015260608201516101208501526080820151151561014085015260a082015115156101608501526101808401526109856101a0840182610749565b50505092915050565b600081516107a781846020870161095a565b600083516107c281846020870161095a565b634e487b7160e01b600052603160045260246000fd5b634e487b7160e01b600052602160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600081600019048311821515161561096557610965610a1f565b500290565b60008219821115610a7f57610a7f610a35565b500190565b634e487b7160e01b600052600160045260246000fd5b600060001982141561069057610690610a9b565b600181811c90821680610a4957607f821691505b602082108114156104ee57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052600160045260246000fd5b600082821015610a9b57610a9b610a35565b808201808211156109655761096561095d565b634e487b7160e01b600052600160045260246000fdfea26469706673582212202b0b9b4b0b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b1b64736f6c63430008080033"
}
